(this["webpackJsonpreact-starter-kit"]=this["webpackJsonpreact-starter-kit"]||[]).push([[0],{14:function(t,e,c){t.exports={product:"Product_product__ZqOoR","card-header":"Product_card-header__2vDuc"}},18:function(t,e,c){t.exports={cart:"Cart_cart__1JwZl"}},25:function(t,e,c){},30:function(t,e,c){},32:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),r=c(8),i=c.n(r),s=(c(25),c(19)),o=c(7),l=function(){return Object(o.b)()},d=o.c,u=c(17),j=c(9),b=Object(j.b)({name:"cart",initialState:{products:[],total:0},reducers:{addToCart:function(t,e){var c=e.payload.id,n=t.products.find((function(t){return t.id===c}));n?n.quantity&&n.quantity++:(e.payload.quantity=1,t.products.push(e.payload))},removeFromCart:function(t,e){var c=e.payload.id,n=t.products.find((function(t){return t.id===e.payload.id}));n&&(n.quantity&&n.quantity>1?(console.log("reducing"),n.quantity--):n.quantity&&1===n.quantity&&(console.log(t.products.filter((function(t){return t.id!==c}))),t.products=t.products.filter((function(t){return t.id!==c}))))},countsCartTotal:function(t){var e,c=0,n=Object(u.a)(t.products);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a.quantity)c+=a.price*a.quantity}}catch(r){n.e(r)}finally{n.f()}t.total=+c.toFixed(3)}}}),h=function(t){return t.cart},p=b.actions,m=p.addToCart,f=p.removeFromCart,x=p.countsCartTotal,O=b.reducer,y=c(14),v=c.n(y),g=c(20),N=c(6),q=c(15),w=c.n(q),C=c(1),k=function(){var t=Object(n.useState)([]),e=Object(s.a)(t,2),c=e[0],a=e[1],r=l();return Object(n.useEffect)((function(){fetch("https://fakestoreapi.com/products").then((function(t){return t.json()})).then((function(t){return a(t)}))})),Object(C.jsx)("div",{className:v.a.product,children:Object(C.jsx)("div",{className:"row text-center",children:c.map((function(t){return Object(C.jsx)("div",{className:"col-sm-4 mb-4",children:Object(C.jsxs)(N.a,{children:[Object(C.jsx)(N.a.Header,{className:v.a["card-header"],children:Object(C.jsx)(N.a.Img,{variant:"top",src:t.image})}),Object(C.jsxs)(N.a.Body,{children:[Object(C.jsx)(N.a.Title,{children:Object(C.jsx)(w.a,{line:1,truncateText:"\u2026",text:t.title})}),Object(C.jsx)(N.a.Text,{children:Object(C.jsx)(w.a,{line:2,truncateText:"\u2026",text:t.description})}),Object(C.jsx)(g.a,{variant:"primary",onClick:function(){r(m(t))},children:"Add to cart"})]})]})},t.id)}))})})},T=c(18),_=c.n(T);var B=function(){var t=d(h),e=l();return Object(n.useEffect)((function(){e(x())}),[t]),Object(C.jsxs)("div",{className:"".concat(_.a.cart," my-3"),children:[Object(C.jsx)("h5",{children:"Cart :"}),Object(C.jsxs)("ul",{className:"list-group",children:[0===t.products.length&&Object(C.jsx)("li",{className:"list-group-item font-italic",children:"Cart is empty..."}),t.products.map((function(t){if(t.quantity&&t.quantity>0)return Object(C.jsxs)("li",{className:"list-group-item",children:[Object(C.jsx)("span",{className:"d-block text-truncate",children:Object(C.jsx)("span",{className:"font-weight-bold",children:t.title})}),Object(C.jsxs)("span",{className:"mr-2 float-right",children:[t.price,"\u20ac"]}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary badge badge-primary badge-pill",onClick:function(){e(f(t))},children:"-"}),Object(C.jsx)("span",{className:"bg-light mx-2",children:t.quantity}),Object(C.jsx)("button",{type:"button",className:"btn btn-primary badge badge-primary badge-pill",onClick:function(){e(m(t))},children:"+"})]},t.id)})),t.products.length>0&&Object(C.jsxs)("li",{className:"list-group-item",children:["Total : ",Object(C.jsx)("span",{className:"float-right",children:t.total})]})]})]})};function E(){return Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsxs)("div",{className:"col-sm-9",children:[Object(C.jsx)("h5",{className:"mt-3",children:"Products :"}),Object(C.jsx)(k,{})]}),Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)(B,{})})]})})}c(30),c(31);var F=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(E,{})})},J=Object(j.a)({reducer:{cart:O}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(o.a,{store:J,children:Object(C.jsx)(F,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.0e0ab377.chunk.js.map